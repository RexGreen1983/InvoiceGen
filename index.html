<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Online Invoice Generator | Instant PDF Download | No Signup Needed</title>
    <meta name="description" content="Create professional invoices in seconds with our free online invoice generator. Download as PDF instantly with no signup required. Supports discounts, taxes, and all currencies.">
    <meta name="keywords" content="invoice generator, free invoice maker, PDF invoice, online invoice, professional invoice, no account invoice tool, discount invoice">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Free Online Invoice Generator",
      "description": "Create professional invoices in seconds with no signup required",
      "applicationCategory": "BusinessApplication",
      "operatingSystem": "Web browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <style>
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4895ef;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4bb543;
            --warning-color: #f0ad4e;
            --danger-color: #d9534f;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }

        header {
            background-color: white;
            box-shadow: var(--box-shadow);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .logo span {
            color: var(--accent-color);
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 1.5rem;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 500;
            transition: var(--transition);
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }

        .hero {
            text-align: center;
            padding: 3rem 0;
            background: linear-gradient(135deg, #4361ee 0%, #3f37c9 100%);
            color: white;
            border-radius: 0 0 var(--border-radius) var(--border-radius);
            margin-bottom: 2rem;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 2rem;
        }

        .btn {
            display: inline-block;
            background-color: white;
            color: var(--primary-color);
            padding: 0.8rem 1.5rem;
            border-radius: var(--border-radius);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--secondary-color);
        }

        .invoice-container {
            display: flex;
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .invoice-form {
            flex: 1;
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .invoice-preview {
            flex: 1;
            background-color: white;
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 100px;
            align-self: flex-start;
        }

        h2 {
            margin-bottom: 1.5rem;
            color: var(--primary-color);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        input, select, textarea {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
            transition: var(--transition);
        }

        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 2px rgba(72, 149, 239, 0.2);
        }

        .row {
            display: flex;
            gap: 1rem;
        }

        .row .form-group {
            flex: 1;
        }

        .item-row {
            display: flex;
            gap: 1rem;
            align-items: flex-end;
            margin-bottom: 1rem;
        }

        .item-row .form-group {
            margin-bottom: 0;
        }

        .item-name {
            flex: 2;
        }

        .item-qty, .item-price, .item-total {
            flex: 1;
        }

        .item-total input {
            background-color: #f5f5f5;
            cursor: not-allowed;
        }

        .remove-item {
            background-color: var(--danger-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 0.8rem;
            cursor: pointer;
            transition: var(--transition);
        }

        .remove-item:hover {
            background-color: #c9302c;
        }

        .add-item {
            background-color: var(--success-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            margin-bottom: 1.5rem;
            transition: var(--transition);
            font-weight: 600;
        }

        .add-item:hover {
            background-color: #3fa33f;
        }

        .actions {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }

        .invoice-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #eee;
        }

        .invoice-title {
            font-size: 2rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        .invoice-details {
            text-align: right;
        }

        .invoice-from-to {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
        }

        .invoice-from, .invoice-to {
            flex: 1;
        }

        .invoice-from h3, .invoice-to h3 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        .invoice-items {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
        }

        .invoice-items th {
            text-align: left;
            padding: 0.8rem;
            background-color: #f5f7fa;
            border-bottom: 1px solid #ddd;
        }

        .invoice-items td {
            padding: 0.8rem;
            border-bottom: 1px solid #eee;
        }

        .invoice-items tr:last-child td {
            border-bottom: none;
        }

        .text-right {
            text-align: right;
        }

        .invoice-totals {
            margin-left: auto;
            width: 300px;
        }

        .invoice-totals table {
            width: 100%;
        }

        .invoice-totals td {
            padding: 0.5rem;
        }

        .invoice-totals tr:last-child td {
            font-weight: 700;
            font-size: 1.1rem;
            color: var(--primary-color);
        }

        .invoice-notes {
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid #eee;
        }

        .invoice-notes h4 {
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }

        footer {
            background-color: var(--dark-color);
            color: white;
            padding: 3rem 0;
            margin-top: 3rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .footer-column h3 {
            margin-bottom: 1.5rem;
            color: var(--accent-color);
        }

        .footer-column ul {
            list-style: none;
        }

        .footer-column ul li {
            margin-bottom: 0.8rem;
        }

        .footer-column ul li a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-column ul li a:hover {
            color: var(--accent-color);
        }

        .copyright {
            text-align: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #444;
        }

        @media (max-width: 768px) {
            .invoice-container {
                flex-direction: column;
            }

            .invoice-preview {
                position: static;
            }

            .row, .invoice-from-to {
                flex-direction: column;
            }

            .item-row {
                flex-wrap: wrap;
            }

            .item-name {
                flex: 1 0 100%;
            }

            .item-qty, .item-price, .item-total {
                flex: 1;
            }
        }

        /* Print styles */
        @media print {
            header, footer, .invoice-form, .actions {
                display: none;
            }

            body {
                background-color: white;
            }

            .invoice-preview {
                box-shadow: none;
                padding: 0;
                margin: 0;
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container header-content">
            <a href="#" class="logo">Invoice<span>Gen</span></a>
            <nav>
                <ul>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Instant Invoice Generator</h1>
            <p>Create professional invoices in seconds with no signup required. Download as PDF with one click. Works with any currency worldwide.</p>
            <a href="#invoice-form" class="btn btn-primary">Create Invoice Now</a>
        </div>
    </section>

    <main class="container">
        <div class="invoice-container" id="invoice-form">
            <div class="invoice-form">
                <h2>Invoice Details</h2>
                <div class="form-group">
                    <label for="invoice-number">Invoice Number</label>
                    <input type="text" id="invoice-number" placeholder="INV-001">
                </div>
                <div class="form-group">
                    <label for="invoice-date">Date</label>
                    <input type="date" id="invoice-date">
                </div>
                <div class="form-group">
                    <label for="invoice-due-date">Due Date</label>
                    <input type="date" id="invoice-due-date">
                </div>
                <div class="form-group">
                    <label for="invoice-currency">Currency</label>
                    <select id="invoice-currency">
                        <option value="$">USD ($)</option>
                        <option value="€">EUR (€)</option>
                        <option value="£">GBP (£)</option>
                        <option value="¥">JPY (¥)</option>
                        <option value="₹">INR (₹)</option>
                        <option value="₽">RUB (₽)</option>
                        <option value="R">ZAR (R)</option>
                        <option value="₩">KRW (₩)</option>
                        <option value="₪">ILS (₪)</option>
                        <option value="₺">TRY (₺)</option>
                        <option value="₱">PHP (₱)</option>
                        <option value="฿">THB (฿)</option>
                        <option value="₫">VND (₫)</option>
                        <option value="₦">NGN (₦)</option>
                        <option value="₴">UAH (₴)</option>
                        <option value="₸">KZT (₸)</option>
                        <option value="₡">CRC (₡)</option>
                        <option value="₮">MNT (₮)</option>
                        <option value="₲">PYG (₲)</option>
                        <option value="₵">GHS (₵)</option>
                        <option value="₼">AZN (₼)</option>
                    </select>
                </div>

                <h2>From (Your Business)</h2>
                <div class="form-group">
                    <label for="from-name">Name</label>
                    <input type="text" id="from-name" placeholder="Your Business Name">
                </div>
                <div class="form-group">
                    <label for="from-address">Address</label>
                    <textarea id="from-address" rows="3" placeholder="Street, City, Country"></textarea>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label for="from-email">Email</label>
                        <input type="email" id="from-email" placeholder="your@email.com">
                    </div>
                    <div class="form-group">
                        <label for="from-phone">Phone</label>
                        <input type="tel" id="from-phone" placeholder="+1234567890">
                    </div>
                </div>

                <h2>To (Client)</h2>
                <div class="form-group">
                    <label for="to-name">Name</label>
                    <input type="text" id="to-name" placeholder="Client Name">
                </div>
                <div class="form-group">
                    <label for="to-address">Address</label>
                    <textarea id="to-address" rows="3" placeholder="Street, City, Country"></textarea>
                </div>
                <div class="row">
                    <div class="form-group">
                        <label for="to-email">Email</label>
                        <input type="email" id="to-email" placeholder="client@email.com">
                    </div>
                    <div class="form-group">
                        <label for="to-phone">Phone</label>
                        <input type="tel" id="to-phone" placeholder="+1234567890">
                    </div>
                </div>

                <h2>Items</h2>
                <div id="items-container">
                    <div class="item-row">
                        <div class="form-group item-name">
                            <label for="item-name-1">Description</label>
                            <input type="text" id="item-name-1" placeholder="Service or product name" class="item-name-input">
                        </div>
                        <div class="form-group item-qty">
                            <label for="item-qty-1">Qty</label>
                            <input type="number" id="item-qty-1" min="1" value="1" class="item-qty-input">
                        </div>
                        <div class="form-group item-price">
                            <label for="item-price-1">Price</label>
                            <input type="number" id="item-price-1" min="0" step="0.01" value="0" class="item-price-input">
                        </div>
                        <div class="form-group item-total">
                            <label for="item-total-1">Total</label>
                            <input type="text" id="item-total-1" value="0" readonly>
                        </div>
                        <button type="button" class="remove-item" onclick="removeItem(this)">×</button>
                    </div>
                </div>
                <button type="button" class="add-item" onclick="addItem()">+ Add Item</button>

                <div class="row">
                    <div class="form-group">
                        <label for="invoice-discount">Discount (%)</label>
                        <input type="number" id="invoice-discount" min="0" max="100" value="0">
                    </div>
                    <div class="form-group">
                        <label for="invoice-tax">Tax (%)</label>
                        <input type="number" id="invoice-tax" min="0" value="0">
                    </div>
                </div>

                <div class="form-group">
                    <label for="invoice-notes">Notes</label>
                    <textarea id="invoice-notes" rows="3" placeholder="Thank you for your business!"></textarea>
                </div>

                <div class="actions">
                    <button type="button" class="btn" onclick="clearForm()">Clear Form</button>
                    <button type="button" class="btn btn-primary" onclick="generatePDF()">Download PDF</button>
                </div>
            </div>

            <div class="invoice-preview">
                <div class="invoice-header">
                    <div class="invoice-title">INVOICE</div>
                    <div class="invoice-details">
                        <div><strong>Invoice #:</strong> <span id="preview-invoice-number">INV-001</span></div>
                        <div><strong>Date:</strong> <span id="preview-date">Today</span></div>
                        <div><strong>Due Date:</strong> <span id="preview-due-date">Tomorrow</span></div>
                    </div>
                </div>

                <div class="invoice-from-to">
                    <div class="invoice-from">
                        <h3>From:</h3>
                        <div id="preview-from-name">Your Business Name</div>
                        <div id="preview-from-address">123 Business St<br>City, Country</div>
                        <div id="preview-from-email">your@email.com</div>
                        <div id="preview-from-phone">+1234567890</div>
                    </div>
                    <div class="invoice-to">
                        <h3>To:</h3>
                        <div id="preview-to-name">Client Name</div>
                        <div id="preview-to-address">456 Client Ave<br>City, Country</div>
                        <div id="preview-to-email">client@email.com</div>
                        <div id="preview-to-phone">+9876543210</div>
                    </div>
                </div>

                <table class="invoice-items">
                    <thead>
                        <tr>
                            <th>Description</th>
                            <th>Qty</th>
                            <th>Price</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody id="preview-items">
                        <tr>
                            <td>Service or product name</td>
                            <td>1</td>
                            <td class="text-right">$0.00</td>
                            <td class="text-right">$0.00</td>
                        </tr>
                    </tbody>
                </table>

                <div class="invoice-totals">
                    <table>
                        <tr>
                            <td>Subtotal:</td>
                            <td class="text-right" id="preview-subtotal">$0.00</td>
                        </tr>
                        <tr>
                            <td>Discount (<span id="preview-discount-percent">0</span>%):</td>
                            <td class="text-right" id="preview-discount">$0.00</td>
                        </tr>
                        <tr>
                            <td>Tax (<span id="preview-tax-percent">0</span>%):</td>
                            <td class="text-right" id="preview-tax">$0.00</td>
                        </tr>
                        <tr>
                            <td>Total:</td>
                            <td class="text-right" id="preview-total">$0.00</td>
                        </tr>
                    </table>
                </div>

                <div class="invoice-notes">
                    <h4>Notes</h4>
                    <div id="preview-notes">Thank you for your business!</div>
                </div>
            </div>
        </div>

        <section id="about" class="about-section" style="margin-bottom: 3rem;">
            <h2>About Us</h2>
            <p>InvoiceGen is a free online invoice generator that helps freelancers, small businesses, and entrepreneurs create professional invoices quickly and easily. Our mission is to simplify the invoicing process with a clean, intuitive interface that requires no account creation or personal information.</p>
            <p>With support for all currencies and countries, InvoiceGen is the perfect tool for anyone who needs to bill clients anywhere in the world. Best of all, it's completely free to use with no hidden fees or limitations.</p>
        </section>

        <section id="privacy" class="privacy-section" style="margin-bottom: 3rem;">
            <h2>Privacy Policy</h2>
            <p>At InvoiceGen, we take your privacy seriously. Here's what you need to know:</p>
            <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                <li>We do not store any of your invoice data on our servers.</li>
                <li>All invoice generation happens in your browser - your data never leaves your device.</li>
                <li>We do not require account creation or collect personal information.</li>
                <li>We do not use tracking cookies or analytics that identify individual users.</li>
            </ul>
            <p>Since this is a client-side application, you can be confident that your financial data remains private and secure.</p>
        </section>

        <section id="terms" class="terms-section" style="margin-bottom: 3rem;">
            <h2>Terms of Use</h2>
            <p>By using InvoiceGen, you agree to the following terms:</p>
            <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                <li>InvoiceGen is provided "as is" without warranties of any kind.</li>
                <li>We are not responsible for any errors in generated invoices or financial losses resulting from their use.</li>
                <li>You are responsible for verifying the accuracy of all invoice information before sending to clients.</li>
                <li>Commercial use is permitted, but you may not resell or redistribute InvoiceGen as your own product.</li>
            </ul>
            <p>We reserve the right to modify these terms at any time. Continued use of the service constitutes acceptance of any changes.</p>
        </section>

        <section id="contact" class="contact-section" style="margin-bottom: 3rem;">
            <h2>Contact Us</h2>
            <p>Have questions, suggestions, or need support? We'd love to hear from you!</p>
            <p>Email: <a href="mailto:pixelpatriots7@gmail.com">pixelpatriots7@gmail.com</a></p>
            <p>While we don't store user data, we're committed to providing excellent support for our free tool. We typically respond to all inquiries within 24-48 hours.</p>
        </section>
    </main>

    <footer>
        <div class="container footer-content">
            <div class="footer-column">
                <h3>InvoiceGen</h3>
                <p>Free online invoice generator for freelancers and small businesses worldwide.</p>
            </div>
            <div class="footer-column">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#invoice-form">Create Invoice</a></li>
                    <li><a href="#about">About Us</a></li>
                    <li><a href="#privacy">Privacy Policy</a></li>
                </ul>
            </div>
            <div class="footer-column">
                <h3>Resources</h3>
                <ul>
                    <li><a href="#terms">Terms of Use</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="container copyright">
            <p>&copy; 2023 InvoiceGen. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script>
        // Initialize jsPDF
        const { jsPDF } = window.jspdf;

        // Set today's date as default
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date().toISOString().split('T')[0];
            document.getElementById('invoice-date').value = today;
            
            // Set due date to 30 days from today
            const dueDate = new Date();
            dueDate.setDate(dueDate.getDate() + 30);
            const dueDateFormatted = dueDate.toISOString().split('T')[0];
            document.getElementById('invoice-due-date').value = dueDateFormatted;
            
            // Format dates for preview
            document.getElementById('preview-date').textContent = formatDate(today);
            document.getElementById('preview-due-date').textContent = formatDate(dueDateFormatted);
            
            // Set up event listeners for all form fields
            setupEventListeners();
            
            // Calculate initial totals
            calculateTotals();
        });

        // Format date as DD/MM/YYYY or MM/DD/YYYY based on locale
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });
        }

        // Set up event listeners for all form fields
        function setupEventListeners() {
            // Invoice details
            document.getElementById('invoice-number').addEventListener('input', function() {
                document.getElementById('preview-invoice-number').textContent = this.value || 'INV-001';
            });
            
            document.getElementById('invoice-date').addEventListener('change', function() {
                document.getElementById('preview-date').textContent = formatDate(this.value);
            });
            
            document.getElementById('invoice-due-date').addEventListener('change', function() {
                document.getElementById('preview-due-date').textContent = formatDate(this.value);
            });
            
            // From details
            document.getElementById('from-name').addEventListener('input', function() {
                document.getElementById('preview-from-name').textContent = this.value || 'Your Business Name';
            });
            
            document.getElementById('from-address').addEventListener('input', function() {
                document.getElementById('preview-from-address').innerHTML = this.value.replace(/\n/g, '<br>') || '123 Business St<br>City, Country';
            });
            
            document.getElementById('from-email').addEventListener('input', function() {
                document.getElementById('preview-from-email').textContent = this.value || 'your@email.com';
            });
            
            document.getElementById('from-phone').addEventListener('input', function() {
                document.getElementById('preview-from-phone').textContent = this.value || '+1234567890';
            });
            
            // To details
            document.getElementById('to-name').addEventListener('input', function() {
                document.getElementById('preview-to-name').textContent = this.value || 'Client Name';
            });
            
            document.getElementById('to-address').addEventListener('input', function() {
                document.getElementById('preview-to-address').innerHTML = this.value.replace(/\n/g, '<br>') || '456 Client Ave<br>City, Country';
            });
            
            document.getElementById('to-email').addEventListener('input', function() {
                document.getElementById('preview-to-email').textContent = this.value || 'client@email.com';
            });
            
            document.getElementById('to-phone').addEventListener('input', function() {
                document.getElementById('preview-to-phone').textContent = this.value || '+9876543210';
            });
            
            // Notes
            document.getElementById('invoice-notes').addEventListener('input', function() {
                document.getElementById('preview-notes').textContent = this.value || 'Thank you for your business!';
            });
            
            // Currency
            document.getElementById('invoice-currency').addEventListener('change', calculateTotals);
            
            // Discount and Tax
            document.getElementById('invoice-discount').addEventListener('input', calculateTotals);
            document.getElementById('invoice-tax').addEventListener('input', calculateTotals);
        }

        // Add a new item row
        let itemCount = 1;
        
        function addItem() {
            itemCount++;
            const itemsContainer = document.getElementById('items-container');
            const newItemRow = document.createElement('div');
            newItemRow.className = 'item-row';
            newItemRow.innerHTML = `
                <div class="form-group item-name">
                    <label for="item-name-${itemCount}">Description</label>
                    <input type="text" id="item-name-${itemCount}" placeholder="Service or product name" class="item-name-input">
                </div>
                <div class="form-group item-qty">
                    <label for="item-qty-${itemCount}">Qty</label>
                    <input type="number" id="item-qty-${itemCount}" min="1" value="1" class="item-qty-input">
                </div>
                <div class="form-group item-price">
                    <label for="item-price-${itemCount}">Price</label>
                    <input type="number" id="item-price-${itemCount}" min="0" step="0.01" value="0" class="item-price-input">
                </div>
                <div class="form-group item-total">
                    <label for="item-total-${itemCount}">Total</label>
                    <input type="text" id="item-total-${itemCount}" value="0" readonly>
                </div>
                <button type="button" class="remove-item" onclick="removeItem(this)">×</button>
            `;
            itemsContainer.appendChild(newItemRow);
            
            // Add event listeners to new inputs
            document.getElementById(`item-name-${itemCount}`).addEventListener('input', updatePreviewItems);
            document.getElementById(`item-qty-${itemCount}`).addEventListener('input', function() {
                calculateItemTotal(this);
                calculateTotals();
            });
            document.getElementById(`item-price-${itemCount}`).addEventListener('input', function() {
                calculateItemTotal(this);
                calculateTotals();
            });
        }

        // Remove an item row
        function removeItem(button) {
            if (document.querySelectorAll('.item-row').length > 1) {
                button.parentElement.remove();
                updatePreviewItems();
                calculateTotals();
            } else {
                alert('You need at least one item on your invoice.');
            }
        }

        // Calculate total for a single item
        function calculateItemTotal(input) {
            const row = input.closest('.item-row');
            const qty = parseFloat(row.querySelector('.item-qty-input').value) || 0;
            const price = parseFloat(row.querySelector('.item-price-input').value) || 0;
            const total = qty * price;
            row.querySelector('.item-total input').value = total.toFixed(2);
        }

        // Update the preview items table
        function updatePreviewItems() {
            const previewItems = document.getElementById('preview-items');
            previewItems.innerHTML = '';
            
            const currencySymbol = document.getElementById('invoice-currency').value;
            
            document.querySelectorAll('.item-row').forEach((row, index) => {
                const name = row.querySelector('.item-name-input').value || 'Service or product name';
                const qty = parseFloat(row.querySelector('.item-qty-input').value) || 0;
                const price = parseFloat(row.querySelector('.item-price-input').value) || 0;
                const total = qty * price;
                
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${name}</td>
                    <td>${qty}</td>
                    <td class="text-right">${currencySymbol}${price.toFixed(2)}</td>
                    <td class="text-right">${currencySymbol}${total.toFixed(2)}</td>
                `;
                previewItems.appendChild(tr);
            });
        }

        // Calculate and update all totals
        function calculateTotals() {
            let subtotal = 0;
            const currencySymbol = document.getElementById('invoice-currency').value;
            
            document.querySelectorAll('.item-row').forEach(row => {
                const qty = parseFloat(row.querySelector('.item-qty-input').value) || 0;
                const price = parseFloat(row.querySelector('.item-price-input').value) || 0;
                subtotal += qty * price;
            });
            
            const discountPercent = parseFloat(document.getElementById('invoice-discount').value) || 0;
            const discountAmount = subtotal * (discountPercent / 100);
            
            const taxPercent = parseFloat(document.getElementById('invoice-tax').value) || 0;
            const taxAmount = (subtotal - discountAmount) * (taxPercent / 100);
            
            const total = subtotal - discountAmount + taxAmount;
            
            document.getElementById('preview-subtotal').textContent = `${currencySymbol}${subtotal.toFixed(2)}`;
            document.getElementById('preview-discount-percent').textContent = discountPercent;
            document.getElementById('preview-discount').textContent = `${currencySymbol}${discountAmount.toFixed(2)}`;
            document.getElementById('preview-tax-percent').textContent = taxPercent;
            document.getElementById('preview-tax').textContent = `${currencySymbol}${taxAmount.toFixed(2)}`;
            document.getElementById('preview-total').textContent = `${currencySymbol}${total.toFixed(2)}`;
            
            updatePreviewItems();
        }

        // Clear the entire form
        function clearForm() {
            if (confirm('Are you sure you want to clear the entire invoice form?')) {
                // Reset invoice details
                document.getElementById('invoice-number').value = '';
                document.getElementById('invoice-date').value = new Date().toISOString().split('T')[0];
                
                const dueDate = new Date();
                dueDate.setDate(dueDate.getDate() + 30);
                document.getElementById('invoice-due-date').value = dueDate.toISOString().split('T')[0];
                
                // Reset from details
                document.getElementById('from-name').value = '';
                document.getElementById('from-address').value = '';
                document.getElementById('from-email').value = '';
                document.getElementById('from-phone').value = '';
                
                // Reset to details
                document.getElementById('to-name').value = '';
                document.getElementById('to-address').value = '';
                document.getElementById('to-email').value = '';
                document.getElementById('to-phone').value = '';
                
                // Reset items (keep one empty item)
                const itemsContainer